var e=Object.defineProperty,l=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=(l,t,a)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;import{d as r,p as o,q as s,f as i,o as u,a as c,i as d,b as f,F as p,e as h,k as m,t as v,l as g,r as y,u as b,s as x,D as j,v as k,h as w,j as O}from"./index.8a677f61.js";import{g as P}from"./refUtil.896e56f6.js";import{L as _}from"./providerSymbol.93f9f49b.js";import"./vendor.be7200f3.js";var M=r({name:"Menu",setup(){var e,l;const t=o().matched;return{routes:s,defaultActivePath:null!=(l=null==(e=t[t.length-1])?void 0:e.path)?l:""}}});M.render=function(e,l,t,a,n,r){const o=i("el-menu-item"),s=i("el-submenu"),y=i("el-menu"),b=i("el-scrollbar");return u(),c(b,{class:"menu",style:{width:"200px"}},{default:d((()=>[f(y,{style:{"border-right":"none"},uniqueOpened:!0,"default-active":e.defaultActivePath,router:"","active-text-color":"#f01123"},{default:d((()=>[(u(!0),c(p,null,h(e.routes,((e,l)=>{var t,a;return u(),c(p,null,[(null==(t=e.meta)?void 0:t.title)?(u(),c(p,{key:0},[(null==(a=e.children)?void 0:a.length)?(u(),c(s,{key:0,index:e.path},{title:d((()=>[e.meta.icon?(u(),c("i",{key:0,class:e.meta.icon},null,2)):m("",!0),f("span",null,v(e.meta.title),1)])),default:d((()=>[(u(!0),c(p,null,h(e.children,((e,l)=>(u(),c(o,{index:e.path},{default:d((()=>[e.meta.icon?(u(),c("i",{key:0,class:e.meta.icon},null,2)):m("",!0),f("span",null,v(e.meta.title),1)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"])):(u(),c(o,{key:1,index:e.path},{title:d((()=>[g(v(e.meta.title),1)])),default:d((()=>[e.meta.icon?(u(),c("i",{key:0,class:e.meta.icon},null,2)):m("",!0)])),_:2},1032,["index"]))],64)):m("",!0)],64)})),256))])),_:1},8,["default-active"])])),_:1})};var X=r({name:"Main",components:{Menu:M},setup(){const e=y(!1),r=b();return((e,r)=>{for(var o in r||(r={}))l.call(r,o)&&n(e,o,r[o]);if(t)for(var o of t(r))a.call(r,o)&&n(e,o,r[o]);return e})({loading:e,logout:()=>{j.delete("/api/login").then((({data:e})=>{if(!e.success)throw new Error(e.msg);r.push({path:"/login"})})).catch((e=>{k.error("登出失败! 请尝试关闭浏览器清除缓存后重新登录!"),r.push({path:"/login"})})).finally((()=>{e.value=!1}))}},function({loading:e}){const l=P();return x(_,l),e.value=!0,j.get("/api/login").then((({data:e})=>{(null==e?void 0:e.success)?l.value=e.data:k.error(e.msg)})).catch((()=>{k.error("加载登陆用户信息出错! ")})).finally((()=>{e.value=!1})),{userPo:l}}({loading:e}))}});const q={class:"main-header fl fl-j-sb fl-a-c"},A=f("h1",null,"XXXX管理后台",-1),C={class:"fl fl-a-c",style:{height:"100%"}},E={style:{color:"#eee"}},S=g("退出登录"),D={style:{height:"100%","padding-top":"60px"},class:"fl"};X.render=function(e,l,t,a,n,r){var o,s;const h=i("el-button"),m=i("Menu"),g=i("router-view"),y=i("el-scrollbar"),b=w("loading");return u(),c(p,null,[O(f("header",q,[A,f("div",C,[f("span",E,v(null!=(s=null==(o=e.userPo)?void 0:o.phone)?s:""),1),f(h,{type:"text",style:{color:"#eee","margin-left":"16px"},onClick:e.logout},{default:d((()=>[S])),_:1},8,["onClick"])])],512),[[b,e.loading,void 0,{fullscreen:!0,lock:!0}]]),f("div",D,[f(m),f(y,{class:"main-scroll",style:{width:"100%",height:"100%"}},{default:d((()=>[f(g)])),_:1})])],64)};export default X;
