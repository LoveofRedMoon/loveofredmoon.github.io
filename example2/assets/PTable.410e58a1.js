var e=Object.assign;import{d as a,o as l,b as t,C as n,D as r,t as s,E as i,n as o,f as u,G as d,e as p,j as m,H as v,c,I as b,J as f,K as y}from"./index.44837868.js";var x=a({name:"PDivider",props:{vertical:{type:Boolean,typeStr:"boolean",mark:"是否启用垂直",default:!1}}});x.render=function(e,a,n,r,s,i){return l(),t("div",{class:["p-divier",{"p-divider-vertical":e.vertical}]},null,2)};const k=[];var h=a({name:"PStretch",props:{modelValue:{type:Boolean,typeStr:"boolean",mark:"是否收缩",required:!0},minHeight:{type:Number,typeStr:"number",mark:"最低高度, 单位px",default:0},name:{type:String,typeStr:"string",mark:"手风琴模式使用name"}},emits:["update:modelValue"],emitsMark:[{key:"update:modelValue",when:"仅当手风琴模式下可能会触发修改",param:"boolean",paramRemark:"打开或关闭对应的Boolean"}],slotsMark:[{key:"default",default:"无",param:"",paramRemark:"",remark:"内容框渲染"}],setup(e,a){const l=n(e,"modelValue",a.emit);r(k,{name:s(e,"name"),value:l}),i(l,(a=>{a&&e.name&&k.forEach((a=>{a.name.value===e.name&&a.value!==l&&(a.value.value=!1)}))}));const{value:t}=o(),p=u(0),m=u(l.value?2:0),v=()=>{t.value&&(p.value=t.value.offsetHeight)};i(l,(e=>{return a=this,l=null,t=function*(){v(),e?m.value=1:(m.value=1,yield d(),v(),m.value=0)},new Promise(((e,n)=>{var r=e=>{try{i(t.next(e))}catch(a){n(a)}},s=e=>{try{i(t.throw(e))}catch(a){n(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,s);i((t=t.apply(a,l)).next())}));var a,l,t}));return{outSlot:t,innerHeight:p,transitionStage:m,handleTransitionEnd:e=>{l.value&&(v(),m.value=2)}}}});const g={ref:"outSlot"};h.render=function(e,a,n,r,s,i){return l(),t("div",{onTransitionEnd:a[1]||(a[1]=(...a)=>e.handleTransitionEnd&&e.handleTransitionEnd(...a)),class:"p-stretch",style:{maxHeight:0===e.transitionStage?`${e.minHeight}px`:1===e.transitionStage?`${e.innerHeight}px`:"initial"}},[p("div",g,[m(e.$slots,"default")],512)],36)};var $=a({name:"PTable",props:{columns:{type:Array,typeStr:"ColumnOption[]",mark:"表格列, 具体详见下表",default:[]},list:{type:Array,typeStr:"any[]",mark:"数据列表, 空数据渲染为暂无数据",default:[]}},slotsMark:[{key:"title",default:"无",param:"",paramRemark:"",remark:"标题渲染, 默认使用title参数"},{key:"operate",default:"无",param:"",paramRemark:"",remark:"按钮操作渲染, 默认不渲染"},{key:"expand",default:"无",param:"",paramRemark:"",remark:"额外内容渲染, 在该行数据之下, 使用数据中_expand字段修改, _expandName 将传递给PStretch组件, 默认不渲染"},{key:"header-${columnKey}",default:"无",param:"",paramRemark:"",remark:"表头渲染, 默认使用对应column中的labelRender, label"},{key:"column-${columnKey}",default:"无",param:"{ data: object, value: any, index: number, column: ColumnOption}",paramRemark:"data: 该行数据, value: 本应渲染值, index: 行数, column: 列属性",remark:"表格体渲染, 默认使用对应column中的render, data[key]"}],setup(a,l){const{list:t}=v(a),n=c((()=>{const l=a.columns,t=l.filter((e=>"left"===e.fix)).reverse().map(((a,l)=>e(e({},a),{fixIdx:l}))).reverse(),n=l.filter((e=>"right"===e.fix)).map(((a,l)=>e(e({},a),{fixIdx:l})));return[...t,...l.filter((e=>void 0===e.fix)).map(((a,l)=>e(e({},a),{fixIdx:l}))),...n]}));c((()=>n.value.some((e=>e.fix))));return()=>(Object.keys(l.slots).forEach((e=>{if(["title","operate","expand"].includes(e))return;const a=e.replace(/^(header|column)-/,"");n.value.find((e=>e.key===a))||console.warn(`slot: ${e} unused!`)})),b("div",{class:"p-table"},[b("div",{class:"p-table-body",style:{gridTemplateColumns:n.value.map((e=>{var a,l;return null!=(l=null==(a=e.width)?void 0:a.replace(/\s/g,""))?l:"auto"})).join(" ")}},[b("div",{class:"p-table-b-header-box"},n.value.map(((e,a)=>{var t,n,r,s,i,o;return b("div",{class:`p-table-b-header p-table-h-${a} p-table-hk-${e.key}${"left"===e.fix?" p-table-h-fix-left":""}`,style:{justifyContent:null!=(t=e.justifyContent)?t:"center"}},null!=(o=null!=(i=null==(r=(n=l.slots)[`header-${e.key}`])?void 0:r.call(n))?i:null==(s=e.labelRender)?void 0:s.call(e))?o:e.label)}))),t.value.length?t.value.map(((e,a)=>[b("div",{class:`p-table-b-list-box p-table-b-list-box-${a}`},n.value.map(((t,n)=>{var r,s,i,o,u,d;const p=f(e,t.key);return b("div",{class:`p-table-b-list p-table-b-${a}-${n} p-table-bk-${t.key} p-table-b-row-${a} p-table-b-col-${n}${"left"===t.fix?" p-table-b-fix-left":""}`,style:{justifyContent:null!=(r=t.justifyContent)?r:"center"}},null!=(d=null!=(u=null==(i=(s=l.slots)[`column-${t.key}`])?void 0:i.call(s,{data:e,value:p,index:a,column:t}))?u:null==(o=t.render)?void 0:o.call(t,{data:e,value:p,index:a,column:t}))?d:p)}))),l.slots.expand?b(h,{modelValue:!!e._expand,"onUpdate:modelValue":a=>{e._expand=a},name:e._expandName,class:`p-table-b-expand p-table-b-expand-${a}`,style:{transition:"max-height 0.2s",gridColumn:`1/${n.value.length+1}`}},(()=>l.slots.expand({data:e,value:!!e._expand,index:a,column:"expand"}))):void 0].filter(Boolean))).flat():b("div",{class:"p-table-b-list p-table-b-empty center",style:{gridColumn:`1/${n.value.length+1}`}},[b(y,{class:"pop-tip",style:"font-size:18px;margin: 1px 8px 0 0"}),"暂无数据！"])])]))}});export{$ as P,x as _,h as a};
